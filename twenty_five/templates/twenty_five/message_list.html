{% extends "base.html" %}
{% load static thumbnail %}
{% block style %}
    {{ block.super }}
    <style>
        #fixedbutton {
            top: 10px;
            right: 10px;
        }
    </style>
{% endblock %}

{% block title %}
    <title>25 ans dynamobile</title>
{% endblock %}

{% block content %}
    <div class="p-3 row flex-row-reverse">
        <div id="info" class="my-5 col-12 col-md-4 col-lg-3 collapse show">
            <button class="btn btn-primary" type="button" data-toggle="collapse"
                    data-target="#info" aria-expanded="false"
                    aria-controls="info">
                Button with data-target
            </button>
            Cher·ère·s ami·e·s cyclistes,
            <br>
            <br>
            Il est important de rappeler que cette année marque 25 années d'une
            belle aventure.
            C'est pour cette raison que nous avons envie de vous rassembler le
            week-end du 17 octobre, virtuellement certes, mais avec votre vélo.
            <br>
            <br>
            Comment faire ?
            Du 17 au 20 octobre, connectez-vous ici.
            Ce lien sera actif 4 jours, puis restera visible sur notre site.
            Nous vous proposons d'enfourcher votre monture, seul·e, en famille
            ou en petits groupes, de faire quelques photos ou simplement
            d'écrire un petit mot.
            Nous laissons libre cours à votre imagination.
            Peut-être y retrouverons-nous des capitaines de routes, des
            signaleurs, de la musique... ou tout autre clin d'œil propre à
            l'esprit « Dynamobile ».
            <br>
            <br>
            D'autre part, cette année, nous aurions rencontré Laïla et Colienne,
            nos nouvelles cuisinières. Bonne nouvelle quand même, si vous le
            souhaitez, vous pouvez découvrir leurs délicieux petits plats à
            emporter en allant sur leur site : <a
                href="https://originelles.be/">https://originelles.be/</a>.
            Une manière sympathique de les soutenir.
            <br>
            <br>
            Et... en attendant la prochaine édition de Dynamobile, continuons à
            faire vivre le vélo sous toutes ses formes ! Au nom de toute
            l'équipe, je vous souhaite de profiter de chaque moment, en
            commençant par prendre soin de vous et des autres.
            <br>
            <br>
            <a href="{% url "upload" %}">
                <div class="btn btn-warning">Ajouter un message ou une image
                </div>
            </a>
        </div>
        <div class="col mosaic overflow-auto" id="mosaic">
            {% include 'twenty_five/simple_message_list.html' %}
        </div>
    </div>

{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script type="text/javascript"
            src="{% static "jquery.mosaic.min.js" %}"></script>
    <script src="https://unpkg.com/infinite-scroll@3/dist/infinite-scroll.pkgd.min.js"></script>
    <link rel="stylesheet" type="text/css"
          href="{% static "jquery.mosaic.min.css" %}"/>
    <script>
        $('#mosaic').Mosaic({
            maxRowHeight: 480,
            refitOnResize: true,
            refitOnResizeDelay: false,
            defaultAspectRatio: 1,
            maxRowHeightPolicy: 'tail',
            highResImagesWidthThreshold: 800,
            responsiveWidthThreshold: 500
        });
        var mosaic = $('#mosaic').infiniteScroll({
            // options
            path: '/?page={% templatetag openvariable %}#{% templatetag closevariable %}',
            append: '.item',
            history: false, outlayer: mosaic,
            status: '.page-load-status'
        });
    </script>
{% endblock %}